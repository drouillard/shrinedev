!function(e,t){var n=function(n,i){this.elem=n,this.$elem=e(n),this.options=i,this.metadata=this.$elem.data("stickem-options"),this.$win=e(t)};n.prototype={defaults:{item:".stickem",container:".stickem-container",stickClass:"stickit",endStickClass:"stickit-end",offset:0,start:0,onStick:null,onUnstick:null},init:function(){var t=this;return t.config=e.extend({},t.defaults,t.options,t.metadata),t.setWindowHeight(),t.getItems(),t.bindEvents(),t},bindEvents:function(){var t=this;t.$win.on("scroll.stickem",e.proxy(t.handleScroll,t)),t.$win.on("resize.stickem",e.proxy(t.handleResize,t))},destroy:function(){var e=this;e.$win.off("scroll.stickem"),e.$win.off("resize.stickem")},getItem:function(t,n){var i=this,o=e(n),r={$elem:o,elemHeight:o.height(),$container:o.parents(i.config.container),isStuck:!1};i.windowHeight>r.elemHeight?(r.containerHeight=r.$container.outerHeight(),r.containerInner={border:{bottom:parseInt(r.$container.css("border-bottom"),10)||0,top:parseInt(r.$container.css("border-top"),10)||0},padding:{bottom:parseInt(r.$container.css("padding-bottom"),10)||0,top:parseInt(r.$container.css("padding-top"),10)||0}},r.containerInnerHeight=r.$container.height(),r.containerStart=r.$container.offset().top-i.config.offset+i.config.start+r.containerInner.padding.top+r.containerInner.border.top,r.scrollFinish=r.containerStart-i.config.start+(r.containerInnerHeight-r.elemHeight),r.containerInnerHeight>r.elemHeight&&i.items.push(r)):r.$elem.removeClass(i.config.stickClass+" "+i.config.endStickClass)},getItems:function(){var t=this;t.items=[],t.$elem.find(t.config.item).each(e.proxy(t.getItem,t))},handleResize:function(){var e=this;e.getItems(),e.setWindowHeight()},handleScroll:function(){var e=this;if(e.items.length>0)for(var t=e.$win.scrollTop(),n=0,i=e.items.length;i>n;n++){var o=e.items[n];o.isStuck&&(t<o.containerStart||t>o.scrollFinish)?(o.$elem.removeClass(e.config.stickClass),t>o.scrollFinish&&o.$elem.addClass(e.config.endStickClass),o.isStuck=!1,e.config.onUnstick&&e.config.onUnstick(o)):o.isStuck===!1&&t>o.containerStart&&t<o.scrollFinish&&(o.$elem.removeClass(e.config.endStickClass).addClass(e.config.stickClass),o.isStuck=!0,e.config.onStick&&e.config.onStick(o))}},setWindowHeight:function(){var e=this;e.windowHeight=e.$win.height()-e.config.offset}},n.defaults=n.prototype.defaults,e.fn.stickem=function(e){return this.destroy=function(){this.each(function(){new n(this,e).destroy()})},this.each(function(){new n(this,e).init()})}}(jQuery,window,document);